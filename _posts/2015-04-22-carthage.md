---
layout: post
title: "Carthage"
categories: oss

---

### Carthage

- iOS / OSX のフレームワーク管理・依存性管理ができるソフトウェア
- できることは、CocoaPods よりもシンプル
- シンプルな分、自分で管理する

[https://github.com/Carthage/Carthage](https://github.com/Carthage/Carthage)

### ワークフロー

1. Cartfile を作成する
    - インストールするフレームワークを記述
2. `carthage update` を実行する
    - フレームワークをリポジトリから clone してビルドまでしてくれる
    - `$(SRC_ROOT)/Carthage/Build/iOS` に .framework が追加される
3. 手動でプロジェクトに追加
    - General にドラッグ & ドロップする
    - Build Phases にフレームワークをコピーするスクリプトを追加する

### 感想

CocoaPods は `pod install` で

- ライブラリ取得
- ライブラリプロジェクトを作る
- ワークスペースを作る
- xcconfig でパスを通す

まで全部する。それに対して Carthage は、「.framework までは用意するから、あとはご自由に」という感じ。

.framework が使える環境（= iOS 7 以下を切り捨てて良い環境）なら、CocoaPods よりシンプルで使いやすそう。

Unity の iOS プラグインで使う場合は、

1. Xcode プロジェクトを export
2. PostProcessBuild で carthage update
3. PostProcessBuild で XcodeAPI を使って .framework を追加

という感じかな。